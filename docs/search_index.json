[["base-model-construction-基础模型搭建.html", "Chapter 3 (Base) Model Construction 基础模型搭建 3.1 Intro on (Base) Model Design and Construction 模型设计搭建概要 3.2 Portfolio-specific Subjective Indicators 其他组合相关过滤指标", " Chapter 3 (Base) Model Construction 基础模型搭建 3.1 Intro on (Base) Model Design and Construction 模型设计搭建概要 The model designing to select stocks is heavily dependent on the portfolio strategy and risk preferences. To reiterate, the base model will select stocks signaling near-term investment opportunities based on a combination of technical indicators. Over 6,000 stocks currently listed in the U.S. security market, however, some may not be appropriate for the portfolio (style, risk, compliance, etc.). For instance, a stock went public one year ago with a market cap of $10B does not satisfy the investment style and risk reference. To save computing power, the model will subjectively filter out these ‘inappropriate’ stocks in advance to any machine selection processes based on indication signals. 翻译 More specifically: Step 1: Fetch market data: The model will gather up-to-date raw trading data and statistics (open, close, volume etc.) for stocks currently listed on the NYSE and NASDAQ (U.S. stocks listed on the following exchanges: PHLX, MS4X, BSE, CHX, and NSX are excluded in this study). 翻译 Step 2: Drop ‘nonviable’ stocks (Portfolio-specific Filters): First, the subjective filters eliminate the ‘inappropriate’ stocks, which are the ones will not be considered as a viable investment option; because of the unmatched management styles, internal risk management guidelines, risk preference, investor/client investment preferences/risk tolerance, etc. (subjective: the eliminated securities are due to subjective preset investment goals, management styles or risk management guidelines; but may be stocks could bring substantial future returns). 翻译 Step 3: Calculate the indicators (Technical Indicators Construction): There are countless of technical indicators, and we will first pick a pool of indicators we deem fit in characterizing the U.S equity price performances. Following, with a programmatic approach, the model computes the indicator value(s), and produces any meaningful graphs. In terms of trading signals, we will set conventional signal parameters, where further investment-specific setting adjustments may become necessary. Moreover, we will use a handful of widely-traded stocks to test whether the program for each technical indicators perform by providing trading signals as intended (not a test on signal accuracy). 翻译 Step 4: Select a combination of significant technical indicators (Technical Indicator Effectiveness Ranking) The characteristics and preset assumptions of the technical indicators, meaning they behave differently for each market with every security. For instance, one can be an effective indicator in terms of signaling accuracy for a stock in a more traded sector, may not hold the case for another stock which is less liquid. Similar applies to the indicator parameters, where different parameter settings may lead to opposite trading signals during different periods. Whether the following indicators are effective and accurate is questionable. Thus, the model utilizes a ranking system to objectively determine their effectiveness, i.e. significant indicators. Using technical indicators in reaching a profitable trading decision requires jurisprudence coupled with investment experience. The model methodology is to use the full dataset with all 5,400+ stocks currently listed on NYSE and NASDAQ, to test and rank the technical indicators in terms of the accuracy in giving the correct trading signals (1,997 NYSE, 3,433 NASDAQ as of Feb 22, 2024). For example, say the RSI accuracy is 70% and No.1 among all technical indicators, by giving the correct next-day trading signals for 3,780+ stocks week-long; which its signal accuracy is higher than any other indicators. With a programmatic approach, the effectiveness evaluation processes produce an accuracy-based ranking for all input technical indicators. 翻译 However, using a technical-only based model emerges a practical and tricky issue, where one significant indicator may disagree with another significant indicator on trading signals. A subjective set of indicator parameters may also cause similar mixed-signal issues. In practice, analysts and PMs reference a combination of the technical indicators, along with other security analysis methods (fundamental, quant, etc.) before arriving at a trading decision (Buy/Sell/Hold). Moreover, investment strategies usually vary for different fund products. To have the stock selection model becoming more adaptive and customizable for various investment needs; for example, to be able to output two separate top-30 stock lists for a buy-and-hold strategy and a long-short risk-neutral strategy. Therefore, the model not only need to be adaptive to input different sets of significant technical indicators (example: 2 sets of technical indicators to signal for shorter-and-longer-term returns), but also for numerous combinations of parameter settings. 翻译 More specifically (for Step 4), the model first utilizes the full (U.S. stock) dataset to test and rank the effectiveness of all input technical indicators, and produces two combinations of significant technical indicators, one set for shorter-term (intraday, next day) signals and one set for longer-term signals. Regarding the parameter settings for the technical indicators, the process in determining the ‘best’ setting is relatively subjective. It requires manual adjustments for each (of them who needs a parameter input), in which different settings at different sample (testing) periods may result differently. Most importantly, trading signals directly influenced by the parameter settings; and the investment styles/goals also have direct impact on the settings (e.g. an aggressive strategy, a trend-following strategy, and an EIF strategy certainly requires different parameter settings, and similar applies to initiate trades on the left or right). 翻译 Step 5: Stock Selection &amp; Trading Signals – the Base Model By finishing the process of datasets inputs, and the elimination of stocks on portfolio-specific (‘nonviable’) filters, the (base) stock selection model can now fetch the up-to-date stock trading statistics through the chosen combinations of significant technical indicators. By design, every technical indicator generates a trading signal based on the given parameter settings for each stock. Following, the model counts the number of trading signals generated for each stock. An aggregate signaling rule needs to be established in advance for the model to generate the trading recommendation, however, this setting can be modified easily to suit specific investment needs and the continuously changing market landscape. 翻译 For example, the PMs can set the rule with a (theoretical) winning-probability threshold of 75%, and say from the model output, stock A generated 11 short position signals from a total of 14 significant technical indicators, which \\(\\frac{11}{14}&gt;75\\%\\). The stock-selection model which indicated that stock A has a(n) aggregate SELL signal as of today. Obviously, with the subjective setting of the winning probability threshold, the programming approach of the model can automate the tedious and heavy computing process, and produces a list of BUY stocks, and a list of SELL stocks. Furthermore, to suit various investment goals/needs like multiple strategies for different portfolios; the model input can easily be modified into two combinations of technical indicators. As an example, besides generating trading recommendations (BUY/SELL/HOLD) for each stock, the model can further indicate/signal whether which stocks have the investment potential (either direction) for a longer-term (Note: such additional recommendation may be due to the extra combination of technical indicators and/or different indicator settings). Above summarized the complete processes in detail, to construct an adaptative U.S. stock selection model using only technical indicators (i.e. the base model) and to generate trading recommendations accordingly. 翻译 Note: We believe technical indicators are relatively objective as they are derivations of market data and statistics. Therefore, by theory, such model should include the less randomness and bias in trading recommendations. To control portfolio drawdowns, while seeking for higher risk-adjusted returns, we purposely divide the model into two parts and introduce model factors/indicators stepwise. Other types of analytical data and statistics include somewhat subjectivity, however, the complete stock selection model (i.e. the full model) (Section 5) will accept significant fundamental, growth/value, volatility, and emotion factors. 翻译 Step 6: Base Model Back-test and RM Additions (Portfolio Simulation [Setting: Base Model, Allocation: Equal Weight]) After gathered the recommended list of stocks to invest generated by the base model, the program is set to evaluate the model performance. A standard back-test is then performed, in which the portfolio is constituted by the model-selected U.S. stocks. Trades are set to execute in accordance with the model-generated trading signals (BUY/SELL/HOLD), and the set theoretical winning-probability threshold (the aggregate signaling rule). For the simplicity and the purpose in controlling variables, the asset allocation rule for this simulated portfolio is set to be equal weight. Finally, the program computes the investment return of the simulated portfolio in percentages. In constructing a model to select U.S. equities, and assess the strategy performance, we assumed a stock-only portfolio. In practice, we need to consider the risk exposure. Effective and proactice risk management is essential for a stock-heavy portfolio. For instance, depends on the overall volatility from the selected stocks, the PMs can invest in ETFs or appropriate commodities or keep a higher cash or cash equivalent asset to hedge. 翻译 &lt;insert.png&gt; [model design flow chart] Above has explained in great details about the expectations of the price volume strategy, the philosophy in designing the stock selection model and the necessary steps in constructing such model with a programming approach. A ‘technical-only’ quantitative model is rare today, and without much reference to follow, subjective and fundamental factors are usually included in constructing such portfolio. Therefore, the report has exhibited the assumptions, subjective decisions, and all influential elements for the designing and modeling processes in detail. Following the model flow chart, the sections below will illustrate the the base model, include computations, visualizations, analyses, simulations and etc. 翻译 Table 3.1: Cleaned Data Glance: NYSE and NASDAQ Stocks date symbol adjusted close high low open volume market_cap 2000 2024-02-22 MSFT 411.6 411.6 412.8 408.6 410.2 27,009,900 3,027,755,746,754 2001 2024-02-22 NVDA 785.4 785.4 785.8 742.2 750.2 86,510,000 1,967,525,024,414 2002 2024-02-22 TSLA 197.4 197.4 198.3 191.4 194.0 92,739,500 636,098,096,289 2003 2024-02-23 AAPL 182.5 182.5 185.0 182.2 185.0 45,074,500 2,820,154,184,738 2004 2024-02-23 AMZN 175.0 175.0 175.8 173.7 174.3 59,662,900 1,802,629,270,728 2005 2024-02-23 GOOG 145.3 145.3 146.0 144.8 145.0 14,508,400 1,733,681,490,697 2006 2024-02-23 META 484.0 484.0 494.4 482.4 488.0 17,861,100 1,241,690,132,758 2007 2024-02-23 MSFT 410.3 410.3 415.9 409.0 415.7 16,284,800 3,027,755,746,754 2008 2024-02-23 NVDA 788.2 788.2 823.9 775.7 807.9 82,711,200 1,967,525,024,414 2009 2024-02-23 TSLA 192.0 192.0 197.6 191.5 195.3 78,670,300 636,098,096,289 Note: Output 2.1.a: Last 10 rows are shown. 3.2 Portfolio-specific Subjective Indicators 其他组合相关过滤指标 With over 6,000 stocks currently lists on the U.S. stock exchanges, the model will first eliminate the ‘inappropriate’ stocks, i.e. the stocks will not be considered as viable investment opportunities. The following are the areas we take into considerations in eliminating the ‘inappropriate’ stocks: Investment needs/preset goals &amp; risk preferences (specific to the managed portfolio) Management styles (avoid style drift or inconsistent investment styles) Liquidity requirements Client/Investor needs &amp; risk tolerance Internal RM guidelines &amp; compliance requirements To reiterate, the eliminated stocks are dropped (from the potential investment list) due to the above subjective reasons; in no means these stocks will necessarily bring negative investment returns, some of them could bring substantial (positive) future returns. 翻译 Thus, we set the following subjective indicators to meet the strategy needs (this list may be modified with the fast-changing market landscape): \\(\\text{Market Cap}&gt; \\$ 7 \\text{ billion}\\) \\(\\text{Average Weekly Volume}&gt; 1 \\text{ million}\\) \\(\\text{Daily Return} \\nless -15\\%\\) \\(\\text{Annualized Volatility}\\ngtr 100\\%\\). 翻译. 3.2.1 Subjective Indicator No.1: Market Cap &gt; $ 7 billion The program gathers the most up-to-date (value at close on the last trading day) market cap (market_cap) for each company, the stocks with a latest market cap smaller than 7 billion USD will be eliminated (from the stock selection list). A market cap less than $7 billion, indicates the stock is more growth in nature, and with less analyst coverage. ‘Growth stocks’ have the growth potential, however tend to be more volatile. To match the investment goals/portfolio needs, satisfy internal RM and compliance guidelines, and actively controlling the drawdown and down-side risks; the model therefore in advance, eliminates these stocks and label them as ‘inviable’ investment options. 翻译 ## character(0) Above output shows the cap_remove_list, i.e. the stocks removed from the stockdata dataset due to its market cap was smaller than 7 billion USD (\\(7\\times 10^9\\)) some time during last year, to meet internal RM guidelines, and actively manage the potential downside risks and return fluctuation (drawdown) issues. 翻译 3.2.2 Subjective Indicator No.2: Average Weekly Volume &gt; 1 million The program first computes the average weekly (trading) Volume, the stock with an average volume smaller than 1 million some time during the last year, will be eliminated (from the stock list). A daily (average) trading volume of 1 million or less, indicates the stock was traded inactively in relative terms. To satisfy internal RM and compliance guidelines, and avoid any liquidity risks; the model therefore in advance, eliminates these stocks and label them as ‘inviable’ investment options. 翻译. ## character(0) Above output shows the volume_remove_list, i.e. the stocks removed from the stockdata dataset due to its average volume was smaller than 1 million (\\(1\\times 10^6\\)) some time during last year, to avoid potential liquidity issues. 翻译 3.2.3 Subjective Indicator No.3: Daily Return \\(\\nless -15\\%\\) The program first computes the daily return (price_pctchange), i.e. the daily price (adjusted) change in percentages for each stock. Any stock with a ‘price drop’ of more than 15% in any trading day during the last year will be eliminated (from the stock selection list). FYI, the program utilizes the daily adjusted close price (adjusted) as the daily price for each stock inputs to the model, which they are adjusted for any dilutions to the shares, i.e. accounts for any dividend distributions and applicable share splits. A daily price change of -15% indicates extreme short-term price down movement. To proactively manage (max) drawdown for our portfolio, the model therefore in advance, eliminates these stocks, which exhibited significant short-term downside risks during last year. 翻译 Table 3.2: Price Percentage Change (1-day ROC) Symbol Date Adj Close Price Change % MSFT 2024-02-22 411.65 2.3547 NVDA 2024-02-22 785.38 16.4009 TSLA 2024-02-22 197.41 1.3554 AAPL 2024-02-23 182.52 -1.0034 AMZN 2024-02-23 174.99 0.2349 GOOG 2024-02-23 145.29 -0.0207 META 2024-02-23 484.03 -0.4320 MSFT 2024-02-23 410.34 -0.3182 NVDA 2024-02-23 788.17 0.3552 TSLA 2024-02-23 191.97 -2.7557 Note: Output 2.2.b: Last 10 rows are shown. ## character(0) Above output shows the prcpct_remove_list, i.e. the stocks removed from the stockdata dataset due to its daily return was smaller than \\(-15\\%\\), some time during last year, to manage short-term drawdown. 翻译 3.2.4 Subjective Indicator No.4: Annualized volatility \\(\\ngtr 100\\%\\) The program first computes the (implied) Annualized Volatility from the daily returns (price_pctchange) for each stock, using \\(\\text{Annualized Volatility}=\\Delta(\\text{Daily Price})\\cdot \\sqrt{252}\\), assuming 252 trading days every year. Any stock with an implied annual volatility of more than 100% will be removed from the selection (process). Implied volatility (annual_volatility) greater than 100% indicates extreme volatile price movements at some point during the last year. To actively manage potential short-term and long-term (portfolio) risks, and utilizing an equilibrium investment strategy; with the potential volatile stocks are exhibited, they will be eliminated in advance for that purpose. 翻译 Table 3.3: Implied Annualized Volatility Date Adj Close Symbol Annual Volatility % 2024-02-22 411.65 MSFT 37.3792 2024-02-22 785.38 NVDA 260.3559 2024-02-22 197.41 TSLA 21.5170 2024-02-23 182.52 AAPL -15.9287 2024-02-23 174.99 AMZN 3.7282 2024-02-23 145.29 GOOG -0.3279 2024-02-23 484.03 META -6.8575 2024-02-23 410.34 MSFT -5.0518 2024-02-23 788.17 NVDA 5.6392 2024-02-23 191.97 TSLA -43.7452 Note: Output 2.2.c: Last 10 rows are shown. ## [1] &quot;META&quot; &quot;NVDA&quot; Above output shows the volat_remove_list, i.e. the stocks removed from the stockdata dataset due to its annualized volatility (annual_volatility) was greater than \\(100\\%\\), some time during last year, to actively control unusual return fluctuations and manage downside risks. 翻译 Table 3.4: Stocks Removed by the Subjective Indicators Symbol [1,] META [2,] NVDA Note: Output 2.2.c: Last 10 rows are shown. * In no means these removed stocks will bring negative investment returns, some of them may bring substantial (positive) future returns. In summary, above are the programming steps of the selection model, in eliminating the ‘inappropriate’ stocks; to suit specific investment needs/goals, portfolio risk preferences, and meet other internal RM guidelines and requirements. The 4 subjective indicators have removed a total 6 U.S. stocks (see the remove_stock_list output below) from the potential stock selection list for further modeling and analyzing (constantly updating by model design, result as of 2024.03.09). To reemphasize, the stocks on the remove_stock_list were eliminated subject to the preset subjective indicators listed above. This particular list of indicators are dynamic, which may be adjusted (added/subtracted/modified) to fulfill investment needs based on the changing market landscape. For practical portfolio constructions, more subjective indicators should be added, for example, stocks on the government’s (so called) ‘Entity List’, should be eliminated to meet compliance (e.g. Lockheed Martin [LMT.NYSE], RTX Corporation [RTX.NYSE], etc). 翻译. "]]
