--- 
title: "Multi-asset Investment strategy Using Quantitative Models 多资产策略量化模型"
author: "Albert Huang"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
# output: bookdown::gitbook
documentclass: book
bibliography: [book.bib, packages.bib]
biblio-style: apalike
link-citations: yes
github-repo: 
header-includes:
  - \usepackage{draftwatermark}
  - \usepackage{xcolor}
  - \usepackage{siunitx}
  - \newcolumntype{d}{S[table-format=3.2]}
output:
  rticles::ctex:
    fig_caption: yes
    number_sections: yes
    toc: yes
    toc_depth: 3
editor_options: 
  markdown: 
    wrap: sentence
description: "THIS IS THE DESCRIP PART on index."
---




# INTRO ON GTAA  

`In Progress`

## GTAA SPECIFICIS

`In Progress`

## MULTIPLE ASSETS  

`In Progress`

## RESERACH

`In Progress`



<!--chapter:end:index.Rmd-->

# Quick Table of Contents 快速索引{-}  

sss


\@ref(2.1) for stock selection model

\@ref(2.1) for stock selection model

<!--chapter:end:Quick-Table-of-Contents.Rmd-->


# Investment Strategy Outlook 投资策略及模型规划

title: "Stock Selection Strategy Using Quantitative Models 量价选股策略模型"
subtitle: "The Base Model: a Technical Signaling Tool for Stock Selection 基础模型：技术指标选股工具"

## Research Objectives 研究目标

For the purpose in discovering the potential U.S. equity investment opportunities, we are attempting to utilize a quantitative methodology based on a programming approach which adapts a price/volume or trend trading strategy by constructing a model using a combination of objective evaluation criteria, technical indicators, and fundamental factors.

翻译

## Considerations on Investment Strategy 投资策略的思考

The major investment goals are:

* Construct a stock-only portfolio with (appropriate) maximized expected upside returns in the long-run;

* Construct the portfolio such overall and continuous downside risks are minimized.

$\Rightarrow$ Investment Goal: Construct a (stock-only) portfolio with maximum long-term risk-adjusted returns while controlling the drawdown proactively.

翻译

In order to select a pool of U.S. stocks (from the major U.S. Indexes) which are in consistent with the preset investment goals & risk preferences, we consider the following trading perspectives:

* In the world of trading, signals are **indicators** which are derived from various continuously changing statistics and variables, and guide the investors on trading directions (buy, sell, and hold).

* Such signals or indicators help the traders and PMs becoming more informed and aware of the current market performance/conditions.

翻译

There are two major approaches to classify the indicators or to analyze any asset, i.e. technical analysis & fundamental analysis:

* **Fundamental analysis** focuses on the performance of an asset by studying various factors/indicators, which may impact the asset price, such as the company's earnings, its cash flow statement and balance sheet, operating efficiency, corporate governance, sector outlook, macro trend, and etc.

* Unlike the income statement modeling and industry/sector research conducted by the fundamental analysis, **technical analysis** aims to predict the future movements(patterns and trends) of certain indicators of an asset (mostly price and volume related); based soley on the historical/past characteristics of various technical indicators, which are (typically) displayed graphically in charts.

翻译

The core assumptions behind these two major methods are that:

(1) The fundamental analysis approach uses information (directly or indirectly) related to the asset itself (e.g EBITDA of the firm), and assumes those information were already factored into the market price fluctuations in time (the EMH).
    By identifying the historical patterns of these indicators or factors, and assuming they provide sufficient information in predicting the (future) trend, one can predict such indicator for the near future (e.g FY26E \$EPS).
    Further, utilizing modern finance models like the CAPM and the multi-factor models with Machine Learning, future asset price movements can be predicted with more confidence (however, not necessarily accuracy).

(2) the assumptions for the technical analysis approach are much simpler.
    One believes that the historical up/down trend of a technical indicator will continue on that path or the path will reverse in the near-term future.
    In other words, technical indicators like price and trading volume, are assumed to move in trends or counter trends, which are repetitive, with certain patterns reoccurring, i.e.
    History will repeat itself (Example: momentum trading strategy and mean reversion strategy).

翻译

With the research goal in building a portfolio with maximum long-term risk-adjusted returns while controlling the maximum drawdown, we certainly need to invest in a pool stocks with the largest winning probability in gaining positive investment returns and with the least amount of volatility.

By acknowledging the usefulness and limitations of fundamental and technical analysis, we can design a quantitative model based on these analytically methodologies to build a portfolio which best suit our preset investment goals and risk preferences.

翻译  

```{r eval=FALSE, message=FALSE, warning=FALSE, include=FALSE}
# Clean the environment
rm(list = ls())
```

```{r message=FALSE, warning=FALSE, include=FALSE}
### Load packages
library(tsibble)
library(lubridate)
library(tidyverse)
library(quantmod)
library(rvest) 
library(xts)
library(TTR)
library(rvest)
library(zoo)
library(knitr)
library(kableExtra)
# nasdaq api 44D9F6_XzqEy8xstEuxb
```

```{r echo=FALSE, message=FALSE, warning=FALSE, fig.pos='H'}
allfactortable <- read.csv("factor_list.csv")

# Display factors (both tech and fundamental) 
kbl(allfactortable, booktabs = T, linesep = "", longtable = T,
    digits = 1, caption = "EMA Trading Signals (TSLA.US)", 
    format.args = list(big.mark = ",", scientific = FALSE),
    col.names = c("a","b","c")) %>%
  kable_styling(latex_options = c("striped", "scale_down",
                                  "HOLD_position"),
                full_width = F) %>%
  column_spec(c(1:2), bold = T) %>%
  footnote(general = "Output 2.3.2.b: Last 8 rows are shown.",
  number = "Includes tsignal4, tsignal5, tsignal6, tsignal6a and tsignal6b.")
```


## Considerations on Model Designs 模型设计的思考

In achieving the ultimate investment goal of building a 'high-return and low-risk' stock-only portfolio, we are aiming to build a quantitative model with the most effective components.

There are countless relative metrics and factors evaluating an asset or a firm, whether the particular indicator/factor is **significant** to the price movements is a question in much more depth.

翻译

To have 'meaningful' model components, we will divide and concur the research objectives by first selecting stocks with near-term investment opportunities (the `base model`).
Following, we will then filter the selected list of stock more rigorously so the positive investment return are more 'certain' for the longer-term with minimal downside risk (the `full model`).

In other words, the `base model` will input the **significant** technical indicators to select a list of 'possible winning' U.S stocks (with potential investment opportunities).
Following, the `complete model` (*Section 5*) will include the **significant** fundamental indicators/factors to further filter from the list of selected stocks, and keep the ones with 'higher certainty' of long-term risk-adjusted (investment) returns.

翻译

Besides selecting stocks based on appropriate and significant indicators/factors with the greatest investment return potentials, the model will also include **subjective filters** to suit specific investment needs/goals (example: able to buy and hold, hot areas of investment interest), risk preferences, and compliance requirements (example: invest in market cap $>\$7B$)。

翻译 过滤条件是主观设定的，同时可以根据其他投资需求与风险偏好进行筛选。

A **technical indicator** is basically a mathematical representation and manipulation of the basic raw trading data and statistics of an asset (e.g. adj close price, trading volume, 52-week high and low, etc.).
In other words, a technical indicator is usually a derivation of the raw trading statistics and is designed to represent/signal certain market behavior.

* Traders typically view the technical indicators as tools on a trading chart to analyze the market trend in a clearer manner. In trading, a technical indicator is like a financial compass, which provides certain market behavior insights (overbought, oversold, potential reversal, range-bound, etc), so investment opportunities and risks can be identified more clearly and intuitively. Traders and PMs can utilize a combination of technical indicators to make informed real-time trading decisions with more confidence.

**here**

One of the ultimate goals in any type of security analysis is to understand/predict the ‘direction’ of the asset’s future price movements.
There are various technical indicators that traders use to predict/deduce future price levels (*Section 2.2*).

* One of the common technical trading strategies is momentum trading, which is also the core assumptions we made in building the stock selection model. A stock that has been rising is said to have positive momentum while a stock that has been crashing is said to have negative momentum. Momentum is an investing factor that aims to benefit from the ongoing trend of a stock or asset. 

* Momentum trading centers on buying and selling assets following their recent performance trends. Traders using this strategy believe that assets moving strongly in a direction will continue to do so. They aim to capitalize on this momentum before it fades.  

*Trend followers believe that stocks moving up or down will continue on that path.

In contrast, mean reversion suggests that assets overreact and will eventually return to their mean values.Momentum trading thrives in markets exhibiting strong trends.
It’s less effective in sideways or highly volatile markets.
Therefore, identifying the right market conditions is critical for success.
Sudden market reversals can quickly erode gains.
Hence, effective risk management is essential.

Technical Indicators do not follow a general pattern, meaning, they behave differently with every security.
What can be a good indicator for a particular security, might not hold the case for the other.
Thus, using a technical indicator requires jurisprudence coupled with good experience.

<!--chapter:end:Investment-Strategy-Outlook.Rmd-->

# (Base) Model Construction 基础模型搭建

## Intro on (Base) Model Design and Construction 模型设计搭建概要
```{r message=FALSE, warning=FALSE, include=FALSE}
### Load packages
library(tsibble)
library(lubridate)
library(tidyverse)
library(quantmod)
library(rvest) 
library(xts)
library(TTR)
library(rvest)
library(zoo)
library(knitr)
library(kableExtra)
# nasdaq api 44D9F6_XzqEy8xstEuxb
```

The model designing to select stocks is heavily dependent on the portfolio strategy and risk preferences.
To reiterate, the `base model` will select stocks signaling near-term investment opportunities based on a combination of **technical indicators**.

Over 6,000 stocks currently listed in the U.S. security market, however, some may not be appropriate for the portfolio (style, risk, compliance, etc.).
For instance, a stock went public one year ago with a market cap of \$10B does not satisfy the investment style and risk reference.
To save computing power, the model will subjectively filter out these 'inappropriate' stocks in advance to any machine selection processes based on indication signals.

翻译

More specifically:

* Step 1: Fetch market data:

The model will gather up-to-date raw trading data and statistics (open, close, volume etc.) for stocks currently listed on the NYSE and NASDAQ (U.S. stocks listed on the following exchanges: PHLX, MS4X, BSE, CHX, and NSX are excluded in this study).

翻译

* Step 2: Drop ‘nonviable’ stocks (Portfolio-specific Filters):

First, the **subjective filters** eliminate the ‘inappropriate’ stocks, which are the ones will not be considered as a viable investment option; because of the unmatched management styles, internal risk management guidelines, risk preference, investor/client investment preferences/risk tolerance, etc. (subjective: the eliminated securities are due to subjective preset investment goals, management styles or risk management guidelines; but may be stocks could bring substantial future returns).

翻译

* Step 3: Calculate the indicators (Technical Indicators Construction):

There are countless of technical indicators, and we will first pick a pool of indicators we deem fit in characterizing the U.S equity price performances.
Following, with a programmatic approach, the model computes the indicator value(s), and produces any meaningful graphs.
In terms of trading signals, we will set conventional signal parameters, where further investment-specific setting adjustments may become necessary.
Moreover, we will use a handful of widely-traded stocks to test whether the program for each technical indicators perform by providing trading signals as intended (not a test on signal accuracy).

翻译

* Step 4: Select a combination of significant technical indicators (Technical Indicator Effectiveness Ranking)

The characteristics and preset assumptions of the technical indicators, meaning they behave differently for each market with every security.
For instance, one can be an effective indicator in terms of signaling accuracy for a stock in a more traded sector, may not hold the case for another stock which is less liquid.
Similar applies to the indicator parameters, where different parameter settings may lead to opposite trading signals during different periods.
Whether the following indicators are effective and accurate is questionable.
Thus, the model utilizes a ranking system to objectively determine their effectiveness, i.e. **significant** indicators. Using technical indicators in reaching a profitable trading decision requires jurisprudence coupled with investment experience.

The model methodology is to use the full dataset with all 5,400+ stocks currently listed on NYSE and NASDAQ, to test and rank the technical indicators in terms of the accuracy in giving the correct trading signals (1,997 NYSE, 3,433 NASDAQ as of Feb 22, 2024).
For example, say the RSI accuracy is 70% and No.1 among all technical indicators, by giving the correct next-day trading signals for 3,780+ stocks week-long; which its signal accuracy is higher than any other indicators.
With a programmatic approach, the effectiveness evaluation processes produce an accuracy-based ranking for all input technical indicators.

翻译

However, using a technical-only based model emerges a practical and tricky issue, where one **significant** indicator may disagree with another **significant** indicator on trading signals.
A subjective set of indicator parameters may also cause similar mixed-signal issues.
In practice, analysts and PMs reference a combination of the technical indicators, along with other security analysis methods (fundamental, quant, etc.) before arriving at a trading decision (Buy/Sell/Hold).

Moreover, investment strategies usually vary for different fund products.
To have the stock selection model becoming more adaptive and customizable for various investment needs; for example, to be able to output two separate top-30 stock lists for a buy-and-hold strategy and a long-short risk-neutral strategy.
Therefore, the model not only need to be adaptive to input different sets of significant technical indicators (example: 2 sets of technical indicators to **signal for shorter-and-longer-term returns**), but also for numerous combinations of parameter settings.

翻译

More specifically (for Step 4), the model first utilizes the full (U.S. stock) dataset to test and rank the effectiveness of all input technical indicators, and produces two combinations of significant technical indicators, one set for shorter-term (intraday, next day) signals and one set for longer-term signals.

Regarding the parameter settings for the technical indicators, the process in determining the ‘best’ setting is relatively subjective.
It requires manual adjustments for each (of them who needs a parameter input), in which different settings at different sample (testing) periods may result differently.
Most importantly, trading signals directly influenced by the parameter settings; and the investment styles/goals also have direct impact on the settings (e.g. an aggressive strategy, a trend-following strategy, and an EIF strategy certainly requires different parameter settings, and similar applies to initiate trades on the left or right).

翻译

* Step 5: Stock Selection & Trading Signals – the Base Model By finishing the process of datasets inputs, and the elimination of stocks on portfolio-specific (‘nonviable’) filters, the (base) stock selection model can now fetch the up-to-date stock trading statistics through the chosen combinations of significant technical indicators.

By design, every technical indicator generates a trading signal based on the given parameter settings for each stock.
Following, the model counts the number of trading signals generated for each stock.

An aggregate signaling rule needs to be established in advance for the model to generate the trading recommendation, however, this setting can be modified easily to suit specific investment needs and the continuously changing market landscape.

翻译

For example, the PMs can set the rule with a **(theoretical) winning-probability threshold** of 75%, and say from the model output, `stock A` generated 11 `short position` signals from a total of 14 significant technical indicators, which $\frac{11}{14}>75\%$.
The stock-selection model which indicated that `stock A` has a(n) aggregate *SELL* signal as of today.
Obviously, with the subjective setting of the winning probability threshold, the programming approach of the model can automate the tedious and heavy computing process, and produces a list of `BUY` stocks, and a list of `SELL` stocks.

Furthermore, to suit various investment goals/needs like multiple strategies for different portfolios; the model input can easily be modified into two combinations of technical indicators.
As an example, besides generating trading recommendations (BUY/SELL/HOLD) for each stock, the model can further indicate/signal whether which stocks have the investment potential (either direction) for a longer-term (Note: such additional recommendation may be due to the extra combination of technical indicators and/or different indicator settings).

Above summarized the complete processes in detail, to construct an adaptative U.S. stock selection model using only technical indicators (i.e. `the base model`) and to generate trading recommendations accordingly.

翻译

Note: We believe technical indicators are relatively objective as they are derivations of market data and statistics.
Therefore, by theory, such model should include the less randomness and bias in trading recommendations.
To control portfolio drawdowns, while seeking for higher risk-adjusted returns, we purposely divide the model into two parts and introduce model factors/indicators stepwise.
Other types of analytical data and statistics include somewhat subjectivity, however, the complete stock selection model (i.e. `the full model`) (*Section 5*) will accept significant fundamental, growth/value, volatility, and emotion factors.

翻译

* Step 6: Base Model Back-test and RM Additions (Portfolio Simulation [Setting: Base Model, Allocation: Equal Weight])

After gathered the recommended list of stocks to invest generated by the `base model`, the program is set to evaluate the model performance.
A standard back-test is then performed, in which the portfolio is constituted by the model-selected U.S. stocks.
Trades are set to execute in accordance with the model-generated trading signals (BUY/SELL/HOLD), and the set theoretical winning-probability threshold (the aggregate signaling rule).
For the simplicity and the purpose in controlling variables, the asset allocation rule for this simulated portfolio is set to be equal weight.
Finally, the program computes the investment return of the simulated portfolio in percentages.

In constructing a model to select U.S. equities, and assess the strategy performance, we assumed a stock-only portfolio.
In practice, we need to consider the risk exposure.
Effective and proactice risk management is essential for a stock-heavy portfolio.
For instance, depends on the overall volatility from the selected stocks, the PMs can invest in ETFs or appropriate commodities or keep a higher cash or cash equivalent asset to hedge.

翻译

<insert.png> [model design flow chart]

Above has explained in great details about the expectations of the price volume strategy, the philosophy in designing the stock selection model and the necessary steps in constructing such model with a programming approach. A 'technical-only' quantitative model is rare today, and without much reference to follow, subjective and fundamental factors are usually included in constructing such portfolio. Therefore, the report has exhibited the assumptions, subjective decisions, and all influential elements for the designing and modeling processes in detail. 

Following the model flow chart, the sections below will illustrate the the `base model`, include computations, visualizations, analyses, simulations and etc.  

翻译 

*\textcolor{red}{Code Hidden 代码已隐藏}* 

```{r message=FALSE, warning=FALSE, include=FALSE}
# Data Intake
mega7data = read.csv("mega7tidy.csv")
mega7mcap = read.csv("mega7marketcap.csv")
```

```{r eval=FALSE, message=FALSE, warning=FALSE, include=FALSE, paged.print=FALSE}
# Full data part data intake for loop 

# Web-scrape SP500 stock list
sp_500_stock_list <- 
 read_html("https://en.wikipedia.org/wiki/List_of_S%26P_500_companies") %>%
  html_node("table.wikitable") %>%
  html_table() %>%
  select(`Ticker symbol`, Security, `GICS Sector`, `GICS Sub Industry`) %>%
  as_tibble()
# Format names
names(sp_500_stock_list) <- 
  sp_500_stock_list %>% 
  names() %>% 
  str_to_lower() %>% 
  make.names()
# Show results
sp_500_stock_list
```

```{r include=FALSE}
# Full data part data intake for loop 
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
# Data cleanup & add marketcap column to the main dataframe
mega7data_modified <- 
  mega7data %>%
  inner_join(mega7mcap, join_by(symbol == Stock)) %>%
  rename(market_cap = Marketcap) %>%
  select(!X.x) %>% 
  select(!X.y) 
```  

```{r echo=FALSE, message=FALSE, warning=FALSE, fig.pos='H'}
kbl(tail(mega7data_modified,10), booktabs = T, linesep = "", 
    digits = 1, caption = "Cleaned Data Glance: NYSE and NASDAQ Stocks", 
    format.args = list(big.mark = ",", scientific = FALSE)) %>%
  kable_styling(latex_options = c("striped","scale_down",
                                  "HOLD_position"), 
                position = "center") %>%
  column_spec(c(3,8,9,10), bold = T) %>%
  footnote(general = "Output 2.1.a: Last 10 rows are shown.")
```

## Portfolio-specific Subjective Indicators 其他组合相关过滤指标

With over 6,000 stocks currently lists on the U.S. stock exchanges, the model will first eliminate the 'inappropriate' stocks, i.e. the stocks will not be considered as viable investment opportunities.

The following are the areas we take into considerations in eliminating the 'inappropriate' stocks:

* Investment needs/preset goals & risk preferences (specific to the managed portfolio)
* Management styles (avoid style drift or inconsistent investment styles)
* Liquidity requirements
* Client/Investor needs & risk tolerance
* Internal RM guidelines & compliance requirements

To reiterate, the eliminated stocks are dropped (from the potential investment list) due to the above subjective reasons; in no means these stocks will necessarily bring negative investment returns, some of them could bring substantial (positive) future returns. 

翻译

Thus, we set the following **subjective indicators** to meet the strategy needs (this list may be modified with the fast-changing market landscape): 

(1) $\text{Market Cap}> \$ 7 \text{ billion}$  
(2) $\text{Average Weekly Volume}> 1 \text{ million}$  
(3) $\text{Daily Return} \nless -15\%$  
(4) $\text{Annualized Volatility}\ngtr 100\%$.

翻译.  

### \textcolor{blue}{Subjective indicator No.1: Market Cap > \$ 7 billion}   

The program gathers the most up-to-date (value at close on the last trading day) *market cap* (`market_cap`) for each company, the stocks with a latest market cap smaller than 7 billion USD will be eliminated (from the stock selection list).  

A market cap less than $7 billion, indicates the stock is more growth in nature, and with less analyst coverage. 'Growth stocks' have the growth potential, however tend to be more volatile. To match the investment goals/portfolio needs, satisfy internal RM and compliance guidelines, and actively controlling the drawdown and down-side risks; the model therefore in advance, eliminates these stocks and label them as 'inviable' investment options.  

翻译  

*\textcolor{red}{Code Hidden 代码已隐藏}*  

```{r echo=FALSE, message=FALSE, warning=FALSE}
cap_remove_list_intermed <-
  mega7data_modified %>%
  filter(market_cap < 7e+9) 

cap_remove_list <- 
  pull(cap_remove_list_intermed, symbol)  %>%
  unique()
``` 

```{r echo=FALSE, message=FALSE, warning=FALSE}
mega7data_modified <- 
  mega7data_modified %>%
  filter(!symbol %in% cap_remove_list)

print(cap_remove_list)
```

Above output shows the `cap_remove_list`, i.e. the stocks removed from the `stockdata` dataset due to its *market cap* was smaller than 7 billion USD ($7\times 10^9$) some time during last year, to meet internal RM guidelines, and actively manage the potential downside risks and return fluctuation (drawdown) issues.  

翻译 

### \textcolor{blue}{Subjective indicator No.2: Average Weekly Volume > 1 million}        

The program first computes the average weekly (trading) `Volume`, the stock with an `average volume` **smaller than 1 million** some time during the last year, will be eliminated (from the stock list).  

A daily (average) trading volume of 1 million or less, indicates the stock was traded  inactively in relative terms. To satisfy internal RM and compliance guidelines, and avoid any liquidity risks; the model therefore in advance, eliminates these stocks and label them as 'inviable' investment options.  

翻译. 

*\textcolor{red}{Code Hidden 代码已隐藏}*  

```{r echo=FALSE, message=FALSE, warning=FALSE}
mega7data_modified <-
  mega7data %>% 
  mutate(week = strftime(date,format = "%V")) %>%
  mutate(year  = year(ymd(date))) 
```

```{r echo=FALSE, message=FALSE, warning=FALSE,fig.pos='H'}
weekavg_volume <-
  mega7data_modified %>%
  group_by(year,week,symbol) %>%
  summarise(average.volume = mean(volume)) 

kbl(tail(weekavg_volume,10), booktabs = T, linesep = "",
    digits = 1, caption = "Average Weekly Trading Volume", 
    format.args = list(scientific = FALSE), longtable = T,
    col.names = c("Year","Week","Symbol","Average Volume")) %>%
  kable_styling(latex_options = c("striped", "scale_down",
                                  "HOLD_position"), 
                position = "center") %>%
  column_spec(c(4), bold = T) %>%
  footnote(general = "Output 2.2.a: Last 10 rows are shown.")
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
volume_remove_list_intermed <-
  weekavg_volume %>%
  filter(average.volume < 1e+6) 

volume_remove_list <- 
  pull(volume_remove_list_intermed, symbol)  %>%
  unique()
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
mega7data_modified <- 
  mega7data_modified %>%
  filter(!symbol %in% volume_remove_list)

print(volume_remove_list)
```

Above output shows the `volume_remove_list`, i.e. the stocks removed from the `stockdata` dataset due to its `average volume` was smaller than 1 million ($1\times 10^6$) some time during last year, to avoid potential liquidity issues.  

翻译 

### \textcolor{blue}{Subjective indicator No.3: Daily Return $\nless -15\%$}  

The program first computes the *daily return* (`price_pctchange`), i.e. the *daily price* (`adjusted`) change in percentages for each stock. Any stock with a 'price drop' of more than 15\% in any trading day during the last year will be eliminated (from the stock selection list). FYI, the program utilizes the daily *adjusted close price* (`adjusted`) as the *daily price* for each stock inputs to the model, which they are adjusted for any dilutions to the shares, i.e. accounts for any dividend distributions and applicable share splits.    

A daily price change of -15\% indicates extreme short-term price down movement. To proactively manage (max) drawdown for our portfolio, the model therefore in advance, eliminates these stocks, which exhibited significant short-term downside risks during last year.  

翻译

*\textcolor{red}{Code Hidden 代码已隐藏}*  

```{r echo=FALSE, message=FALSE, warning=FALSE}
mega7data_modified <-
  mega7data_modified %>% 
  group_by(symbol) %>%
  mutate(price_pctchange = (adjusted/lag(adjusted)-1)*100)

pctchange_display <-
  mega7data_modified %>% 
  select(symbol,date,adjusted,price_pctchange) %>%
  tail(10)
```

```{r echo=FALSE, message=FALSE, warning=FALSE, fig.pos='H'}
kbl(pctchange_display, booktabs = T, linesep = "",
    digits = 4, caption = "Price Percentage Change (1-day ROC)", 
    format.args = list(big.mark = ",", scientific = FALSE),
    col.names = c("Symbol","Date","Adj Close","Price Change %")) %>%
  kable_styling(latex_options = c("striped", "scale_down", 
                                  "HOLD_position"), 
                position = "center") %>%
  column_spec(c(3,4), bold = T) %>%
  footnote(general = "Output 2.2.b: Last 10 rows are shown.")
```

*\textcolor{red}{Code Hidden 代码已隐藏}*  

```{r echo=FALSE, message=FALSE, warning=FALSE}
prcpct_remove_list_intermed <-
  mega7data_modified %>%
  filter(price_pctchange < -15) 

prcpct_remove_list <- 
  pull(prcpct_remove_list_intermed, symbol)  %>%
  unique()
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
mega7data_modified <- 
  mega7data_modified %>%
  filter(!symbol %in% prcpct_remove_list)

print(prcpct_remove_list)
```

Above output shows the `prcpct_remove_list`, i.e. the stocks removed from the `stockdata` dataset due to its *daily return* was smaller than $-15\%$, some time during last year, to manage short-term drawdown.  

翻译

### \textcolor{blue}{Subjective indicator No.4: Annualized volatility $\ngtr 100\%$}  

The program first computes the (implied) *Annualized Volatility* from the *daily return*s  (`price_pctchange`) for each stock, using $\text{Annualized Volatility}=\Delta(\text{Daily Price})\cdot \sqrt{252}$, assuming 252 trading days every year. Any stock with an implied annual volatility of more than 100\% will be removed from the selection (process). 

Implied volatility (`annual_volatility`) greater than 100\% indicates extreme volatile price movements at some point during the last year. To actively manage potential short-term and long-term (portfolio) risks, and utilizing an equilibrium investment strategy; with the potential volatile stocks are exhibited, they will be eliminated in advance for that purpose.  

翻译

*\textcolor{red}{Code Hidden 代码已隐藏}*  

```{r echo=FALSE, message=FALSE, warning=FALSE}
mega7data_modified <-
  mega7data_modified %>%
  mutate(annual_volatility = price_pctchange * sqrt(252)) 

annual_volatility_display <-
  mega7data_modified %>%
  select(date, adjusted, symbol, annual_volatility) %>%
  na.omit() %>%
  tail(10)
``` 

```{r echo=FALSE, message=FALSE, warning=FALSE, fig.pos='H'}
kbl(annual_volatility_display, booktabs = T, linesep = "",
    digits = 4, caption = "Implied Annualized Volatility", 
    format.args = list(big.mark = ",", scientific = FALSE),
    col.names = c("Date","Adj Close","Symbol","Annual Volatility %")) %>%
  kable_styling(latex_options = c("striped", "scale_down",
                                  "HOLD_position"), 
                position = "center") %>%
  column_spec(c(2,4), bold = T) %>%
  footnote(general = "Output 2.2.c: Last 10 rows are shown.")
```

*\textcolor{red}{Code Hidden 代码已隐藏}*  

```{r echo=FALSE, message=FALSE, warning=FALSE}
volat_remove_list_intermed <-
  mega7data_modified %>%
  filter(abs(annual_volatility) > 200) # change to 100

volat_remove_list <- 
  pull(volat_remove_list_intermed, symbol)  %>%
  unique()
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
mega7data_modified <- 
  mega7data_modified %>%
  filter(!symbol %in% volat_remove_list)

print(volat_remove_list)
```

Above output shows the `volat_remove_list`, i.e. the stocks removed from the `stockdata` dataset due to its *annualized volatility* (`annual_volatility`) was greater than $100\%$, some time during last year, to actively control unusual return fluctuations and manage downside risks.  

翻译

*\textcolor{red}{Code Hidden 代码已隐藏}*  

```{r echo=FALSE, message=FALSE, warning=FALSE, fig.pos='H'}
# ADD STOCK REMOVED COMP NAME FULL, GICS SECTOR 
remove_stock_list <- 
  t(rbind(cap_remove_list,volume_remove_list,prcpct_remove_list,volat_remove_list)) 

colnames(remove_stock_list) <- "remove_stock_list"

kbl(tail(remove_stock_list,10), booktabs = T, linesep = "", 
    col.names = "Symbol" , 
    caption = "Stocks Removed by the Subjective Indicators") %>%
  kable_styling(latex_options = c("striped", "scale_down",
                                  "HOLD_position"), 
                position = "center", full_width = T) %>%
  column_spec(c(2), bold = T) %>%
  footnote(general = "Output 2.2.c: Last 10 rows are shown.",
           symbol = "In no means these removed stocks will bring negative investment returns, some of them may bring substantial (positive) future returns.")
```

In summary, above are the programming steps of the selection model, in eliminating the 'inappropriate' stocks; to suit specific investment needs/goals, portfolio risk preferences, and meet other internal RM guidelines and requirements. The 4 **subjective indicators** have removed a total **6** U.S. stocks (see the `remove_stock_list` output below) from the potential stock selection list for further modeling and analyzing (**constantly updating by model design, result as of 2024.03.09**).  

* To reemphasize, the stocks on the `remove_stock_list` were eliminated subject to the preset **subjective indicators** listed above. This particular list of indicators are dynamic, which may be adjusted (added/subtracted/modified) to fulfill investment needs based on the changing market landscape. For practical portfolio constructions, more **subjective indicators** should be added, for example, stocks on the government's (so called) 'Entity List', should be eliminated to meet compliance (e.g. Lockheed Martin [LMT.NYSE], RTX Corporation [RTX.NYSE], etc).  

翻译. 







<!--chapter:end:Base-Model-Construction.Rmd-->

# Technical Indicators Construction 技术指标搭建

```{r message=FALSE, warning=FALSE, include=FALSE}
# Clean the environment
rm(list = ls())

### Load packages
library(tsibble)
library(lubridate)
library(tidyverse)
library(quantmod)
library(rvest) 
library(xts)
library(TTR)
library(rvest)
library(zoo)
library(knitr)
library(kableExtra)
# nasdaq api 44D9F6_XzqEy8xstEuxb

# Data Intake
mega7data = read.csv("mega7tidy.csv")
mega7mcap = read.csv("mega7marketcap.csv")

# Full data part data intake for loop 

# Data cleanup & add marketcap column to the main dataframe
mega7data_modified <- 
  mega7data %>%
  inner_join(mega7mcap, join_by(symbol == Stock)) %>%
  rename(market_cap = Marketcap) %>%
  select(!X.x) %>% 
  select(!X.y) 

kbl(tail(mega7data_modified,10), booktabs = T, linesep = "", 
    digits = 1, caption = "Cleaned Data Glance: NYSE and NASDAQ Stocks", 
    format.args = list(big.mark = ",", scientific = FALSE)) %>%
  kable_styling(latex_options = c("striped","scale_down",
                                  "HOLD_position"), 
                position = "center") %>%
  column_spec(c(3,8,9,10), bold = T) %>%
  footnote(general = "Output 2.1.a: Last 10 rows are shown.")

cap_remove_list_intermed <-
  mega7data_modified %>%
  filter(market_cap < 7e+9) 

cap_remove_list <- 
  pull(cap_remove_list_intermed, symbol)  %>%
  unique()

mega7data_modified <- 
  mega7data_modified %>%
  filter(!symbol %in% cap_remove_list)

print(cap_remove_list)

mega7data_modified <-
  mega7data %>% 
  mutate(week = strftime(date,format = "%V")) %>%
  mutate(year  = year(ymd(date))) 

weekavg_volume <-
  mega7data_modified %>%
  group_by(year,week,symbol) %>%
  summarise(average.volume = mean(volume)) 

kbl(tail(weekavg_volume,10), booktabs = T, linesep = "",
    digits = 1, caption = "Average Weekly Trading Volume", 
    format.args = list(scientific = FALSE), longtable = T,
    col.names = c("Year","Week","Symbol","Average Volume")) %>%
  kable_styling(latex_options = c("striped", "scale_down",
                                  "HOLD_position"), 
                position = "center") %>%
  column_spec(c(4), bold = T) %>%
  footnote(general = "Output 2.2.a: Last 10 rows are shown.")

volume_remove_list_intermed <-
  weekavg_volume %>%
  filter(average.volume < 1e+6) 

volume_remove_list <- 
  pull(volume_remove_list_intermed, symbol)  %>%
  unique()

mega7data_modified <- 
  mega7data_modified %>%
  filter(!symbol %in% volume_remove_list)

print(volume_remove_list)

mega7data_modified <-
  mega7data_modified %>% 
  group_by(symbol) %>%
  mutate(price_pctchange = (adjusted/lag(adjusted)-1)*100)

pctchange_display <-
  mega7data_modified %>% 
  select(symbol,date,adjusted,price_pctchange) %>%
  tail(10)

kbl(pctchange_display, booktabs = T, linesep = "",
    digits = 4, caption = "Price Percentage Change (1-day ROC)", 
    format.args = list(big.mark = ",", scientific = FALSE),
    col.names = c("Symbol","Date","Adj Close","Price Change %")) %>%
  kable_styling(latex_options = c("striped", "scale_down", 
                                  "HOLD_position"), 
                position = "center") %>%
  column_spec(c(3,4), bold = T) %>%
  footnote(general = "Output 2.2.b: Last 10 rows are shown.")

prcpct_remove_list_intermed <-
  mega7data_modified %>%
  filter(price_pctchange < -15) 

prcpct_remove_list <- 
  pull(prcpct_remove_list_intermed, symbol)  %>%
  unique()

mega7data_modified <- 
  mega7data_modified %>%
  filter(!symbol %in% prcpct_remove_list)

print(prcpct_remove_list)

mega7data_modified <-
  mega7data_modified %>%
  mutate(annual_volatility = price_pctchange * sqrt(252)) 

annual_volatility_display <-
  mega7data_modified %>%
  select(date, adjusted, symbol, annual_volatility) %>%
  na.omit() %>%
  tail(10)

kbl(annual_volatility_display, booktabs = T, linesep = "",
    digits = 4, caption = "Implied Annualized Volatility", 
    format.args = list(big.mark = ",", scientific = FALSE),
    col.names = c("Date","Adj Close","Symbol","Annual Volatility %")) %>%
  kable_styling(latex_options = c("striped", "scale_down",
                                  "HOLD_position"), 
                position = "center") %>%
  column_spec(c(2,4), bold = T) %>%
  footnote(general = "Output 2.2.c: Last 10 rows are shown.")

volat_remove_list_intermed <-
  mega7data_modified %>%
  filter(abs(annual_volatility) > 200) # change to 100

volat_remove_list <- 
  pull(volat_remove_list_intermed, symbol)  %>%
  unique()

mega7data_modified <- 
  mega7data_modified %>%
  filter(!symbol %in% volat_remove_list)

print(volat_remove_list)

# ADD STOCK REMOVED COMP NAME FULL, GICS SECTOR 
remove_stock_list <- 
  t(rbind(cap_remove_list,volume_remove_list,prcpct_remove_list,volat_remove_list)) 

colnames(remove_stock_list) <- "remove_stock_list"

kbl(tail(remove_stock_list,10), booktabs = T, linesep = "", 
    col.names = "Symbol" , 
    caption = "Stocks Removed by the Subjective Indicators") %>%
  kable_styling(latex_options = c("striped", "scale_down",
                                  "HOLD_position"), 
                position = "center", full_width = T) %>%
  column_spec(c(2), bold = T) %>%
  footnote(general = "Output 2.2.c: Last 10 rows are shown.",
           symbol = "In no means these removed stocks will bring negative investment returns, some of them may bring substantial (positive) future returns.")
```

As previously defined, technical analysis is the recording of the actual trading history, to identify potential patterns/trends with the assumption that similiar behavior will repeat in the future. A **technical indicator** is basically a mathematical representation and manipulation of the basic historical raw trading data and statistics of an asset. 

The following in $\S 2.3$ exhibits the computation results, graphs/charts, and generated trading signals based on subjectively set parameters for each of the **12** technical indicators. Whether one tech indicator is effective is evaluated in $\S 2.4$. Model simulation for a portfolio constructed of the selected stocks will be performed and analyzed in $\S 3.1$. 

Note: For all technical indicators utilized for this stock selection strategy, only the traditional (type of) technical analysis was applied; and there were no Machine Learning or AI enhanced directly for any indicators, nor any ML-driven evaluation processes included in selecting the significant indicators (in $\S 2.4$). 

* For example: the **RSI** is the one of the most widely used trading indicators to detect potential oversold and overbought signals. As one of the classical trading tools, **RSI** has its defects. **RSI** tends of under or over react in sudden market shifts. Nowadays, quant analysts and traders often utilizes the LSTM (Long short-term memory) framework, one of the RNN (Recurrent Neural Network) Deep Learning Models to enhance the **RSI** performance, and applies Bayesian Optimization on the parameter settings.   

翻译. 

Starting at over 5,600+ stocks listed on NYSE and NASDAQ, and with eliminations by the **subjective indicators**, about **xx** U.S. stocks are input for technical indicators to filter and further model processes. 

In general, the program is set to perform computations and generate tradings signals accordingly for each input stock; without occupying the majority of report spaces, all outputs (computation summaries/tables, charts/graphs) are therefore suppressed (A warning like below is provided for each suppressed output). For each model step, the report only shows the program output for Tesla, Inc. (`TSLA.US`); the same applies for the remaining of the report. Analysts may construct a web ui database program, so the PMs and analysts are able to check the indicator valuations, and their graphs or charts for the most up-to-date selection of stocks.    


<Insert a chart with all indicators (sig or not sig) and character them as type of indicators mom volume etc>

翻译. 

## Technical Indicator 1: Simple Moving Avaerage (SMA) 

(Includes `tsignal1`, `tsignal2`, and `tsignal3`)  

翻译

* Intro- SMA: 

Commonly, traders intend to observe the average stock prices of the last number of trading days, is often defined as the moving average price or the rolling average price. An n-day **simple moving average** price, or the **n-day SMA** price, which refers to the **arithmetic** average or the simple average of the stock prices (the model uses the *adjusted close* prices) for the past n consecutive trading days. The SMA lines tend to smooth out volatility or price variations, and makes the visualization of price trends more clear and intuitive.  

Mathematically defined as:  

$$\text{SMA}_t=\frac{P_t+...+P_{t-n+1}}{n}=\frac{\sum^{t}_{i=t-n+1}P_i}{n}$$

The program uses the formula shown above to compute the **simple moving average (SMA)** values for **all stocks** in the model at various parameter settings, and creates appropriate related visualizations. Following, the **SMA** trading signals will be constructed. 

翻译

```{r echo=FALSE, message=FALSE, warning=FALSE}
# Define a function to compute the value for SMA using the adjusted close price with parameter settings of n days 

SMA_comput <- function (price,n){
  sma <- c()
  sma[1:(n-1)] <- NA
  for (i in n:length(price)){
    sma[i] <- mean(price[(i-n+1):i])
  }
  sma <- reclass(sma,price)
  return(sma) 
}
```  

```{r echo=FALSE, message=FALSE, warning=FALSE}
# Compute SMA for all stocks, Full Data
mega7data_modified <-
  mega7data_modified %>%
  group_by(symbol) %>%
  mutate(SMA5 = SMA_comput(adjusted, 5), 
         SMA8 = SMA_comput(adjusted,8),
         SMA13 = SMA_comput(adjusted,13),
         SMA20 = SMA_comput(adjusted,20),
         SMA50 = SMA_comput(adjusted,50),
         SMA200 = SMA_comput(adjusted,200))
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
# Alternative way: 
# Below utilizes the `TTR` package directly for SMA computations: SMA()
# TSLA <- xts(TSLA$adjusted,TSLA$date)
# SMA200 <- SMA(TSLA,n = 200) 
```

```{r message=FALSE, warning=FALSE, include=FALSE}
result_231a <- 
  mega7data_modified %>%
  slice(which(symbol == "TSLA")) %>%
  mutate(date = as.Date(date)) %>%
  select(date, adjusted, SMA5, SMA8, SMA13, 
         SMA20, SMA50, SMA200, volume)
```

\textcolor{red}{Individual stock outputs are suppressed, only TSLA.US related results are shown for illustration purposes.个股输出数据及图表已隐藏，报告仅展示特斯拉(TSLA.US)相关结果。} 

*\textcolor{red}{Code Hidden 代码已隐藏}*  

```{r echo=FALSE, message=FALSE, warning=FALSE, fig.pos='H'}
# Display TSLA output (SMA values)
kbl(tail(result_231a,10), booktabs = T, linesep = "", 
    digits = 1, caption = "SMA Computations (TSLA.US)",
    format.args = list(big.mark = ",", scientific = FALSE),
    col.names = c("Symbol","Date","Adj Close","SM5","SMA8",
                  "SMA13","SMA20","SMA50","SMA200","Volume")) %>%
  kable_styling(latex_options = c("striped", "scale_down",
                                  "HOLD_position"), 
                position = "center") %>%
  column_spec(c(4:9), bold = T) %>%
  footnote(general = "Output 2.3.1.a: Last 10 rows are shown.")
```

The program computed the **SMA** values for all stocks input in the model, with the parameter settings of $n=5,8,13,20,50,200$. As an illustration, above table shows the computed SMA values (shown above) and line charts (shown below) for TSLA.US. 

```{r message=FALSE, warning=FALSE, include=FALSE}
TSLA_graph_SMA <- xts::last(result_231a,'365 days')
TSLA_graph_SMA <- data.frame(TSLA_graph_SMA$adjusted,
                             TSLA_graph_SMA$volume, TSLA_graph_SMA$date)
# TSLA <- zoo(TSLA$TSLA.adjusted,TSLA$TSLA.date)
```

```{r message=FALSE, warning=FALSE, include=FALSE}
# GRAPH SUPRESEED
chartSeries(TSLA_graph_SMA, subset = '2024-01-01::2024-02-23',
            type = "bars",
            theme=chartTheme('black'))

# Add Modern 5-8-13 SMA strategy graph
addSMA(n = 5,on = 1,col = "white")
addSMA(n = 8,on = 1,col = "yellow") 
addSMA(n = 13,on = 1,col = "purple") 
# Adapts a new method in SMA graphs missing legends
# knit works not run all chuncks
```

```{r message=FALSE, warning=FALSE, include=FALSE}
# GRAPH SUPRESEED
chartSeries(TSLA_graph_SMA, subset = '2024-01-01::2024-02-23',
            type = "bars",
            theme=chartTheme('black'))
# Add Classic 50-200 SMA strategy graph
addSMA(n = 50,on = 1,col = "grey") 
addSMA(n = 200,on = 1,col = "blue") 
# Adapts a new method in SMA graphs missing legends
# knit works not run all chunks
```

翻译

* Trading signal(s) & strategies- **SMA**:  

Normally, when a short-run **SMA** crosses from below to above a longer-run SMA is an indication to **BUY**. When a short-run **SMA** crosses from above to below a longer-run **SMA** is an indication to **SELL**. 

- 1. SMA Trading Signal \#1: $\text{close price}>\text{SMA}(20)$ (Price relative to SMA) [`tsignal1`]

When the most recent closing price (the model uses the *adjusted close* prices) is above its *SMA20* indicates a **BUY** signal, and vice versa for a **SELL** signal. We consider when $\text{close price}>\text{SMA}(20)$, the stock is trading at a strength relative to its recent (over a month) price history. 

- 2. SMA Trading Signal \#2: $\text{SMA}(50)>\text{SMA}(200)$ (Hierarchical Moving Average Alignment) [`tsignal2`]

Above mathematical expression is not completely accurate, where we believe when *SMA50* crosses from below to above a 200-day Simple Moving Average (*SMA200*) indicates the stock prices are stable and established an uptrend trend, i.e. a **BUY** signal, and vice versa. When the *SMA50* crosses from above to below a *SMA200* indicates a **SELL** signal. Note, this is one of the most classical **SMA** trading strategies, commonly refers to as the 'golden cross' and 'death cross'.  

- 3. SMA Trading Signal \#3: $\text{SMA}(8)>\text{SMA}(13)$ & $\text{SMA}(5)>\text{SMA}(8)$ [`tsignal3`]

Above mathematical expression is not completely accurate either, where we believe when *SMA8* crosses from below to above a 13-day Simple Moving Average (*SMA13*) indicates the stock prices are in an upward trend for the medium term. If concurrently, the *SMA5* crosses from below to above a *SMA8*, which indicates the stock prices are in an upward trend for the short-to-medium term; a **BUY** opportunity is signaled. 

On the contrast, when the *SMA8* crosses from above to below a *SMA13*, while the *SMA5* crosses from above to below the *SMA8*, indicates a **SELL** signal for the short-to-medium term.  

翻译

To summarize for **SMA** trading signals:  

While comparing *SMA50* and *SMA200* is the more classical and widely used parameter setting for the simple moving average (SMA) indicator, namely the golden and death cross. The less conventional, however modern and effective short-to-medium term trend indicator settings are the combinations of $n=5,8,13$. 

- SMA- `tsignal1`:  
**BUY**: $\text{close price}>\text{SMA}(20)$,  
**HOLD or SELL**: $\text{close price}\leq \text{SMA}(20)$;  
     
- SMA- `tsignal2`:  
**BUY**: $\text{SMA}(50)$ cross from **below to above** $\text{SMA}(200)$,  
**SELL**: $\text{SMA}(50)$ cross from **above to below** $\text{SMA}(200)$;  
     
- SMA- `tsignal3`:   
**BUY**: $\text{SMA}(8)$ cross from **below to above** a $\text{SMA}(13)$ **and** $\text{SMA}(5)$ cross from below to above a $\text{SMA}(8)$,   
**SELL**: $\text{SMA}(8)$ cross from **above to below** a $\text{SMA}(13)$ **and** $\text{SMA}(5)$ cross from below to above a $\text{SMA}(8)$.

```{r echo=FALSE, message=FALSE, warning=FALSE}
# SMA Trading Signal 1: Price > SMA20
# SMA Rule setup and Generate Signals 
mega7data_modified <-
  mega7data_modified %>%
  mutate(tsignal1 = case_when(SMA20 < adjusted ~ 'BUY',
                              SMA20 >= adjusted ~ 'SELL'))
# consider about HOLD
# sigCrossover
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
# SMA Trading Signal 2: SMA50 > SMA200
# SMA Rule setup and Generate Signals 
mega7data_modified <- 
  mega7data_modified %>%
  group_by(symbol) %>%
  mutate(tsignal2 = case_when(
    lag(SMA50) < lag(SMA200) & SMA50 > SMA200 ~ 'BUY',
    lag(SMA50) >= lag(SMA200) & SMA50 < SMA200 ~ 'SELL',
    lag(SMA50) < lag(SMA200) & SMA50 <= SMA200 ~ 'HOLD',
    lag(SMA50) >= lag(SMA200) & SMA50 >= SMA200 ~ 'HOLD'))
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
# SMA Trading Signal 3a: SMA5 > SMA8
# SMA Trading Signal 3b: SMA8 > SMA13
# SMA Rule setup and Generate Signals 
mega7data_modified <- 
  mega7data_modified %>%
  group_by(symbol) %>%
  mutate(tsignal3a = case_when(
    lag(SMA5) < lag(SMA8) & SMA5 > SMA8 ~ 'BUY',
    lag(SMA5) >= lag(SMA8) & SMA5 < SMA8 ~ 'SELL',
    lag(SMA5) < lag(SMA8) & SMA5 <= SMA8 ~ 'HOLD',
    lag(SMA5) >= lag(SMA8) & SMA5 >= SMA8 ~ 'HOLD')) %>%
  mutate(tsignal3b = case_when(
    lag(SMA8) < lag(SMA13) & SMA8 > SMA13 ~ 'BUY',
    lag(SMA8) >= lag(SMA13) & SMA8 < SMA13 ~ 'SELL',
    lag(SMA8) < lag(SMA13) & SMA8 <= SMA13 ~ 'HOLD',
    lag(SMA8) >= lag(SMA13) & SMA8 >= SMA13 ~ 'HOLD'))
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
# SMA Trading Signal 3: only when 3a & 3b are met simultaneously
# SMA Rule setup and Generate Signals 
mega7data_modified <- 
  mega7data_modified %>%
  mutate(tsignal3 = case_when(
    tsignal3a == 'BUY' & tsignal3b == 'BUY' ~ 'BUY',
    tsignal3a == 'BUY' & tsignal3b == 'SELL' ~ 'HOLD',
    tsignal3a == 'BUY' & tsignal3b == 'HOLD' ~ 'HOLD',
    tsignal3a == 'HOLD' & tsignal3b == 'HOLD' ~ 'HOLD',
    tsignal3a == 'HOLD' & tsignal3b == 'BUY' ~ 'HOLD',
    tsignal3a == 'HOLD' & tsignal3b == 'SELL' ~ 'HOLD',
    tsignal3a == 'SELL' & tsignal3b == 'BUY' ~ 'HOLD',
    tsignal3a == 'SELL' & tsignal3b == 'SELL' ~ 'SELL',
    tsignal3a == 'SELL' & tsignal3b == 'HOLD' ~ 'HOLD')) 
```

\textcolor{red}{Individual stock outputs are suppressed, only TSLA.US related results are shown for illustration purposes.个股输出数据及图表已隐藏，报告仅展示特斯拉(TSLA.US)相关结果。} 

*\textcolor{red}{Code Hidden 代码已隐藏}*  

```{r echo=FALSE, message=FALSE, warning=FALSE, paged.print=TRUE}
# Show TSLA signals results (SMA)
result_231b <-
  mega7data_modified %>%
  slice(which(symbol == "TSLA")) %>%
  ungroup() %>%
  select(date, adjusted, tsignal1, tsignal2, 
         tsignal3, tsignal3a, tsignal3b) %>%
  tail(8)
```

* Summary- SMA:  

The program is now constructed to generate **daily trading signals** indicates by the **simple moving average (SMA)**. The parameter settings and trading rules of the *SMA*-generated signals, which the model is currently applying are shown above. **Daily Trading signals** from the *SMA* indicators, include `tsignal1`, `tsignal2` and `tsignal3` (include `tsignal3a` and `tsignal3b`) for all stocks are generated, and the results for TSLA.US is shown below as an illustration.   

$^*:$ Whether the *SMA* indicator, or the trading signals `tsignal1`, `tsignal2` and `tsignal3` are effective will be further analyzed by the program, and refer to $\S 2.4$ below for more details.  

翻译

```{r echo=FALSE, message=FALSE, warning=FALSE, fig.pos='H'}
# Display TSLA output (SMA signals)
kbl(result_231b, booktabs = T, linesep = "", longtable = T, 
    digits = 1, caption = "SMA Trading Signals (TSLA.US)", 
    format.args = list(big.mark = ",", scientific = FALSE),
    col.names = c("Date","Adj Close","tsignal1","tsignal2",
                  "tsignal3","tsignal3a","tsignal3b")) %>%
  kable_styling(latex_options = c("striped", "scale_up",
                                  "HOLD_position"),
                full_width = F) %>%
  column_spec(c(3:5), bold = T) %>%
  column_spec(1, width = "1.9cm") %>%
  footnote(general = "Output 2.3.1.b: Last 8 rows are shown.",
  number = "Includes tsignal1, tsignal2, tsignal3, tsignal3a and tsignal3b.")
```

## Technical Indicator 2: Exponential Moving Average (EMA)
  
(Includes `tsignal4`, `tsignal5`, and `tsignal6`)  

* Intro- **EMA**: 

Similar to the Simple Moving Average (SMA) which tend to smooth out the price variations and the average prices are rolling by dropping the oldest data point and adding the latest one. An n-day **Exponential Moving Average (EMA)**, or the **n-day EMA** prices refers to the **exponential** average of the stock prices (the model uses the *adjusted close* prices) for the past n consecutive trading days. Different from the SMA, the **Exponential Moving Average (EMA)** use the smoothing factor $\beta$ to assign a weight to each data point, with more recent prices given greater weight because of the exponential decay formula (The weights can be calculated in various ways, such as linear or exponential). 

Mathematically defined as:  
 
$$\begin{aligned}
\text{EMA}_t(P,n)&=\beta P_{t}+\beta(1-\beta)P_{t-1}+\beta(1-\beta)^{2}P_{t-2}+... \\
&= \beta P_{t}+(1-\beta)\text{EMA}_{t-1}
\end{aligned}$$   

where the smoothing coefficient $\beta$ is usually defined as  

$$\beta=\frac{2}{n+1} \in (0;1)$$

The **EMA** uses the previous value of the EMA ($\text{EMA}_{t-1}$) in its calculation. This means the EMA includes all the price data within its current value. The smoothing coefficient ensures that the newest price data has the most impact on the Moving Average and the oldest prices data has only a minimal impact.

The program uses the formula shown above to compute the **Exponential Moving Average (EMA)** values for each stock at various parameter settings, and creates appropriate related visualizations. Following, **EMA** trading signals will be constructed. 

翻译

```{r echo=FALSE, message=FALSE, warning=FALSE}
# Define a function to compute the value for EMA using the adjusted close price with parameter settings of n days 

EMA_comput <- function (price,n){
  ema <- c()
  ema[1:(n-1)] <- NA
  ema[n]<- mean(price[1:n])
  beta <- 2/(n+1)
  for (i in (n+1):length(price)){
    ema[i]<-beta * price[i] + 
      (1-beta) * ema[i-1]
  }
  ema <- reclass(ema,price)
  return(ema)
}
```  

```{r echo=FALSE, message=FALSE, warning=FALSE}
# Compute SMA for all stocks, Full Data
mega7data_modified <-
  mega7data_modified %>%
  group_by(symbol) %>%
  mutate(EMA5 = EMA_comput(adjusted, 5), 
         EMA8 = EMA_comput(adjusted,8),
         EMA13 = EMA_comput(adjusted,13),
         EMA20 = EMA_comput(adjusted,20),
         EMA50 = EMA_comput(adjusted,50),
         EMA200 = EMA_comput(adjusted,200))
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
# Alternative way: 
# Below utilizes the `TTR` package directly for EMA computations: EMA()
# TSLA <- xts(TSLA_graph_SMA$adjusted,TSLA_graph_SMA$date)
# EMA200 <- EMA(TSLA,n = 200) 
```

```{r message=FALSE, warning=FALSE, include=FALSE}
TSLA_graph_EMA <- 
  mega7data_modified %>%
  slice(which(symbol == "TSLA")) %>%
  mutate(date = as.Date(date)) %>%
  select(date, adjusted, EMA5, EMA8, EMA13, 
         EMA20, EMA50, EMA200, volume)
```

\textcolor{red}{Individual stock outputs suppressed, only TSLA.US related results shown for illustration purpose.个股输出数据及图表已隐藏，报告仅展示特斯拉(TSLA.US)相关结果。} 

*\textcolor{red}{Code Hidden 代码已隐藏}*  

```{r echo=FALSE, message=FALSE, warning=FALSE, fig.pos='H'}
# Display TSLA output (EMA values)
kbl(tail(TSLA_graph_EMA,10), booktabs = T, linesep = "", 
    digits = 1, caption = "EMA Computations (TSLA.US)", 
    format.args = list(big.mark = ",", scientific = FALSE),
    col.names = c("Symbol","Date","Adj Close","EM5","EMA8",
                  "EMA13","EMA20","EMA50","EMA200","Volume")) %>%
  kable_styling(latex_options = c("striped", "scale_down",
                                  "HOLD_position"), 
                position = "center") %>%
  column_spec(c(4:9), bold = T) %>%
  footnote(general = "Output 2.3.2.a: Last 10 rows are shown.")
```

The program computed the **EMA** values for all stocks input in the model, with the parameter settings of $n=5,8,13,20,50,200$. As an illustration, above table shows the computed EMA values (shown above) and line charts (shown below) for TSLA.US. 

```{r message=FALSE, warning=FALSE, include=FALSE}
TSLA_graph_EMA <- xts::last(TSLA_graph_EMA,'365 days')
TSLA_graph_EMA <- data.frame(TSLA_graph_EMA$adjusted,
                             TSLA_graph_EMA$volume, TSLA_graph_EMA$date)
```

```{r message=FALSE, warning=FALSE, include=FALSE}
# GRAPH SUPRESEED
chartSeries(TSLA_graph_EMA, subset = '2024-01-01::2024-02-23',
            type = "bars",
            theme=chartTheme('black'))

# Add Modern 5-8-13 EMA strategy graph
addEMA(n = 5,on = 1,col = "white")
addEMA(n = 8,on = 1,col = "yellow") 
addEMA(n = 13,on = 1,col = "purple") 
# Adapts a new method in EMA graphs missing legends
# knit works not run all chuncks
```

```{r message=FALSE, warning=FALSE, include=FALSE}
# GRAPH SUPRESEED
chartSeries(TSLA_graph_EMA, subset = '2024-01-01::2024-02-23',
            type = "bars",
            theme=chartTheme('black'))
# Add Classic 50-200 EMA strategy graph
addEMA(n = 50,on = 1,col = "grey") 
addEMA(n = 200,on = 1,col = "blue") 
# Adapts a new method in EMA graphs missing legends
# knit works not run all chunks
```

翻译

* Trading signal(s) & strategies- **EMA**:  

Normally, when the **EMA** rises and prices dip near or just below the EMA, it signals a buying opportunity. When the EMA falls and prices rally towards or just above the EMA, it signals a selling opportunity. 

Therefore, when a short-run **EMA** crosses from below to above a longer-run EMA is an indication to **BUY**. When a short-run **EMA** crosses from above to below a longer-run **EMA** is an indication to **SELL**.  

Moving averages are effective in signaling the 'support and resistance areas'. Since the **EMA** is generally more sensitive to price movements than the **SMA**, and is able to identify trends earlier than an **SMA** would; the **EMA** values and resulted trading signals become more valuable in understanding near-term price movements and the 'support and resistance areas'. A rising EMA tends to support the price actions, while a falling EMA tends to provide resistance to price actions. This reinforces the strategy of buying when the price is near the rising EMA and selling when the price is near the falling EMA.  

翻译

- 1. EMA Trading Signal \#1: $\text{close price}>\text{EMA}(20)$ (Price relative to EMA) [`tsignal4`]

When the most recent closing price (the model uses the *adjusted close* prices) is above its *EMA20* indicates a **BUY** signal, and vice versa for a **SELL** signal. We consider when $\text{close price}>\text{SMA}(20)$, the stock is trading at a strength relative to its recent (over a month) price history. 

- 2. EMA Trading Signal \#2: $\text{EMA}(50)>\text{EMA}(200)$ (Hierarchical Moving Average Alignment) [`tsignal5`]

Above mathematical expression is not completely accurate, where we believe when *EMA50* crosses from below to above a 200-day Exponential Moving Average (*EMA200*) indicates the stock prices are stable and established an uptrend trend, i.e. a **BUY** signal, and vice versa. When the *EMA50* crosses from above to below a *EMA200* indicates a **SELL** signal. Note, this is the **EMA** version of the most classical **SMA** trading strategies, commonly refers to as the 'golden cross' and 'death cross'.  

- 3. EMA Trading Signal \#3: $\text{EMA}(8)>\text{EMA}(13)$ & $\text{EMA}(5)>\text{EMA}(8)$ [`tsignal6`]

Above mathematical expression is not completely accurate either, where we believe when *EMA8* crosses from below to above a 13-day Exponential Moving Average (*EMA13*) indicates the stock prices are in an upward trend for the medium term. If concurrently, the *EMA5* crosses from below to above a *EMA8*, which indicates the stock prices are in an upward trend for the short-to-medium term; a **BUY** opportunity is signaled.  

On the contrast, when the *EMA8* crosses from above to below an *EMA13*, while the *EMA5* crosses from above to below the *EMA8*, indicates a **SELL** signal for the short-to-medium term.  

Compare to the **SMA** version, this set of trading signals are more sensitive, as the **EMA** bears more weight on the more recent price variations, and the newest price data has the most impact. 

翻译

To summarize for **EMA** trading signals:  

- EMA- `tsignal4`:  
**BUY**: $\text{close price}>\text{EMA}(20)$,  
**HOLD or SELL**: $\text{close price}\leq \text{EMA}(20)$;  
     
- EMA- `tsignal5`:  
**BUY**: $\text{EMA}(50)$ cross from **below to above** $\text{EMA}(200)$,  
**SELL**: $\text{EMA}(50)$ cross from **above to below** $\text{EMA}(200)$;  
     
- EMA- `tsignal6`:   
**BUY**: $\text{EMA}(8)$ cross from **below to above** a $\text{EMA}(13)$ **and** $\text{EMA}(5)$ cross from below to above a $\text{EMA}(8)$,   
**SELL**: $\text{EMA}(8)$ cross from **above to below** a $\text{EMA}(13)$ **and** $\text{EMA}(5)$ cross from below to above a $\text{EMA}(8)$  

翻译

```{r echo=FALSE, message=FALSE, warning=FALSE}
# EMA Trading Signal 4: Price > EMA20
# EMA Rule setup and Generate Signals 
mega7data_modified <-
  mega7data_modified %>%
  mutate(tsignal4 = case_when(EMA20 < adjusted ~ 'BUY',
                              EMA20 >= adjusted ~ 'SELL'))
# consider about HOLD
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
# EMA Trading Signal 5: EMA50 > EMA200
# EMA Rule setup and Generate Signals 
mega7data_modified <- 
  mega7data_modified %>%
  group_by(symbol) %>%
  mutate(tsignal5 = case_when(
    lag(EMA50) < lag(EMA200) & EMA50 > EMA200 ~ 'BUY',
    lag(EMA50) >= lag(EMA200) & EMA50 < EMA200 ~ 'SELL',
    lag(EMA50) < lag(EMA200) & EMA50 <= EMA200 ~ 'HOLD',
    lag(EMA50) >= lag(EMA200) & EMA50 >= EMA200 ~ 'HOLD'))
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
# EMA Trading Signal 6a: EMA5 > EMA8
# EMA Trading Signal 6b: EMA8 > EMA13
# EMA Rule setup and Generate Signals 
mega7data_modified <- 
  mega7data_modified %>%
  group_by(symbol) %>%
  mutate(tsignal6a = case_when(
    lag(EMA5) < lag(EMA8) & EMA5 > EMA8 ~ 'BUY',
    lag(EMA5) >= lag(EMA8) & EMA5 < EMA8 ~ 'SELL',
    lag(EMA5) < lag(EMA8) & EMA5 <= EMA8 ~ 'HOLD',
    lag(EMA5) >= lag(EMA8) & EMA5 >= EMA8 ~ 'HOLD')) %>%
  mutate(tsignal6b = case_when(
    lag(EMA8) < lag(EMA13) & EMA8 > EMA13 ~ 'BUY',
    lag(EMA8) >= lag(EMA13) & EMA8 < EMA13 ~ 'SELL',
    lag(EMA8) < lag(EMA13) & EMA8 <= EMA13 ~ 'HOLD',
    lag(EMA8) >= lag(EMA13) & EMA8 >= EMA13 ~ 'HOLD'))
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
# EMA Trading Signal 6: only when 6a & 6b are met simultaneously
# EMA Rule setup and Generate Signals 
mega7data_modified <- 
  mega7data_modified %>%
  mutate(tsignal6 = case_when(
    tsignal6a == 'BUY' & tsignal6b == 'BUY' ~ 'BUY',
    tsignal6a == 'BUY' & tsignal6b == 'SELL' ~ 'HOLD',
    tsignal6a == 'BUY' & tsignal6b == 'HOLD' ~ 'HOLD',
    tsignal6a == 'HOLD' & tsignal6b == 'HOLD' ~ 'HOLD',
    tsignal6a == 'HOLD' & tsignal6b == 'BUY' ~ 'HOLD',
    tsignal6a == 'HOLD' & tsignal6b == 'SELL' ~ 'HOLD',
    tsignal6a == 'SELL' & tsignal6b == 'BUY' ~ 'HOLD',
    tsignal6a == 'SELL' & tsignal6b == 'SELL' ~ 'SELL',
    tsignal6a == 'SELL' & tsignal6b == 'HOLD' ~ 'HOLD')) 
```

\textcolor{red}{Individual stock outputs suppressed, only TSLA.US related results shown for illustration purpose.个股输出数据及图表已隐藏，报告仅展示特斯拉(TSLA.US)相关结果。} 

*\textcolor{red}{Code Hidden 代码已隐藏}*  

```{r echo=FALSE, message=FALSE, warning=FALSE, fig.pos='H'}
# Show TSLA signals results (EMA)
result_232b <-
  mega7data_modified %>%
  slice(which(symbol == "TSLA")) %>%
  ungroup() %>%
  select(date, adjusted,tsignal4, tsignal5, 
         tsignal6, tsignal6a, tsignal6b) %>%
  tail(8)
```  

&nbsp;  
&nbsp;  

  
  
  
* Summary- **EMA**:  

The model uses the same set of trading signal rules or indicator parameter settings apply to the **SMA** when interpreting the **EMA**. However, the **EMA** is generally more sensitive to price movements. On one side, it can  signal the trends earlier than an **SMA** would. On the other side, the **EMA** will likely to exhibit more short-term changes (price fluctuations) than a corresponding **SMA**.

All moving averages, including both the **SMA** and the **EMA**; they are not designed to identify the exact bottom and top (of the price levels). By utilizing the moving averages, the model intends to observe the general direction of a trend (up, sideways/congested, down), but the analysts are aware a delay at the entry and exit points may exist from the moving averages. Most importantly, the **EMA** has a shorter delay than the **SMA** with the same parameter settings.  

翻译

Besides the **SMA** and the **EMA**, there are many other commonly used moving averages such as the **Weighted Moving Average (WMA)**, the **Double Exponential Moving Average (DEMA)**, the **Triple Exponential Moving Average (TEMA)**, and etc. Most of them tend to smooth the price movements, so the technical indicator/trading signal is less sensitive to the short-term fluctuations. However, per our investment needs in identify intra-day, short-term and longer-term equity investment opportunities, the model will therefore adhere to the simple and exponential moving averages.  

The program is now constructed to generate **daily trading signals** indicates by the **Exponential Moving Average (EMA)**. The parameter settings and trading rules of the *EMA*-generated signals, which the model is currently applying are shown above. **Daily Trading signals** from the *EMA* indicators, include `tsignal4`, `tsignal5` and `tsignal6` (include `tsignal6a` and `tsignal6b`) for all stocks are generated, and the results for TSLA.US is shown below as an illustration.   

$^*:$ Whether the *EMA* indicator, or the trading signals `tsignal4`, `tsignal5` and `tsignal6` are effective will be further analyzed by the program, and refer to $\S 2.4$ below for more details.  

翻译

```{r echo=FALSE, message=FALSE, warning=FALSE, fig.pos='H'}
# Display TSLA output (EMA signals)
kbl(result_232b, booktabs = T, linesep = "", longtable = T,
    digits = 1, caption = "EMA Trading Signals (TSLA.US)", 
    format.args = list(big.mark = ",", scientific = FALSE),
    col.names = c("Date","Adj Close","tsignal4","tsignal5",
                  "tsignal6","tsignal6a","tsignal6b")) %>%
  kable_styling(latex_options = c("striped", "scale_up",
                                  "HOLD_position"),
                full_width = F) %>%
  column_spec(c(3:5), bold = T) %>%
  column_spec(1, width = "1.9cm") %>%
  footnote(general = "Output 2.3.2.b: Last 8 rows are shown.",
  number = "Includes tsignal4, tsignal5, tsignal6, tsignal6a and tsignal6b.")
```


## Technical Indicator 3: Moving Average Convergence Divergence (MACD)    



## Technical Indicator 4: Relative Strength Index (RSI)  

The RSI (Relative Strength Index) is a momentum oscillator that measures the speed and change of price movements.
It ranges from 0 to 100 and is used to identify overbought or oversold conditions in a market.
An RSI level below 30 generates buy signals while an RSI level above 70 generates sell signals.

Note: The exclusion of machine learning.
Technical.
Example RSI Fundamental example ICIR to dig significant momentum factors.  



```{r test1}

#
```

```{r test2}
#
```

```{r test3}
#
```

## Technical Indicator 5: Bollinger Band (BB) 

`In Progress`

## Technical Indicator 6: 2-day Momentum (2-day Mom)  

`In Progress`

## Technical Indicator 7: Price Volume Trend (PVT) 

`In Progress`

### Volume

`In Progress`

One of the most common basic indicators traders examine is the trading volume.
Trading volume is an indication for the ‘activeness’ of a financial instrument.
Depending on the financial instruments, trading volume can be measured either using the number of stocks traded or number of contracts with changed ownerships.

### Price

`In Progress`

To put this in practice, if an increase in volume is observed with a steady increase in price, the instrument can be viewed as steady and strong.
However, if volume and price are changing in different directions, a reversal might be happened.

-   In terms of trading price, traders often observed the trends based on the charts shape and cross in ways that form shapes - often times with weird names like ‘head and shoulder’, ’ reverse head and sholder’, ‘double top’, ‘golden cross’, etc. A golden cross indicates a long term bull market going forward, whereas the death cross is the exact opposite, indicating a potential long term bear market. Both of these refer to the confirmation of long term trend by the occurance of the overlapping of moving average lines as shown below.









<!--chapter:end:Technical-Indicators-Construction.Rmd-->

# Selecting Effective Technical Indicators 选取有效的技术指标

`In Progress`

## Dynamic: Choose the Effective Technical Indicators 

`In Progress`

## Other Model Construction Steps 

`In Progress`

<!--chapter:end:Select-Effective-Technical-Indicators.Rmd-->

# (Base) Model Performance 模型选股表现

`In Progress`

## Model Illustration: Stock Selection Using Technical Trade Signals 技术信号模型选股 

`In Progress`

## Portfolio Simulation (Back-test) 组合回测模拟

`In Progress`

## Model Drawbacks & Risks 模型缺陷和风险

`In Progress`

```{r eval=FALSE, include=FALSE}
#量价因子Price Volume Trend ($\text{PVT}$) 是一种技术分析(technical analysis)得出的指标，完全依据历史交易数据(solely based on historical trading price and volume)，其对未来的预测能力理论上是有限的，可以作为一种交易的/择时的信号判断方法，组合选股仍因依赖其他以基本面研究方式为基础的方法和模型 (macros, sector trends, factor models)。

#Stocks with unusual price and/or volume movements will be filtered out based on subjectively-set criteria, certain positive investment opportunities may be omitted (as the model filtered them out) due to the fixed filter rules.

#All the concepts explained here can be applied on any trading instrument (like stock, currency, options, indices or crypto).
arrow believe the model has almost no use for other asset classes

#因为模型的因子过滤是人为主观设定的，且为固定不可变动的过滤条件，一些由于股价或交易量显著异动的股票可能因此被模型剔除，由此可能会产生错失良好投资机遇的机会成本。

#Machine Learning integration for prices prediction is possible however not reliable to depend trading decisions soley on price predictions.

#fudamental is crucial it's theoretically possible that some/all technical or fundamental indicators fail under various market conditions  
```

<!--chapter:end:Base-Model-Performance.Rmd-->

# Full Model Construction 完整模型设计及搭建

TBD

## Intro on Full Model Design & Construction 完整量价选股模型搭建及设计

TBD

## Selecting Effective Fundamental Factors 选取有效的基本面因子

TBD

<!--chapter:end:Full-Model-Construction.Rmd-->

# Fundamental Stock Selection Summary 基本面选股策略模型的总结

TBD

## Stock Selection 模型选股 

TBD

## Portfolio Simulation (Back-test) 组合回测 

TBD

## Base Model vs. Full Model Comparison 基础&完整模型的比较

TBD

## Model & Strategy Drawbacks 模型和策略设计缺陷

TBD

## Consideration: Optimization Using Portfolio Performance Factors 利用组合因子优化选股模型

TBD

<!--chapter:end:Full-Model-Performance.Rmd-->

# Stock Selection Strategy & Model Summary 选股策略模型总结

TBD

<!--chapter:end:Stock-Selection-Strategy-Summary.Rmd-->

# Asset Allocation Strategy Using Quantitative Models 资产配置量化模型

## Dynamic Asset Allocation Model - A Quant tool to Optimize Portfolio Performance & RM

TBD

<!--chapter:end:Asset-Allocation-Model.Rmd-->

# Quantitative Model for other Assets 量化模型

* FX  

* Global Gov. Bonds  

* ETFs



TBD

<!--chapter:end:Quant-Model-Other-Asset-Class.Rmd-->

# Risk Disclosure 风险披露

`In Progress`

## Risks: Equities  

`In Progress`

## Risks: Other Asset Classes

TBD  

## Portfolio Risks

<!--chapter:end:Risk-Disclosure.Rmd-->

# Appendix

`In Progress`

<!--chapter:end:Appendix.Rmd-->

